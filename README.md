<h1>ЁЯОУ Bonus Section тАУ ржмрж╛ржВрж▓рж╛ ржЙрждрзНрждрж░</h1>

<p>ржПржЗ ржЕржВрж╢рзЗ рзлржЯрж┐ ржмрзЛржирж╛рж╕ ржкрзНрж░рж╢рзНржирзЗрж░ ржЙрждрзНрждрж░ ржжрзЗржУрзЯрж╛ рж╣рж▓рзЛред ржкрзНрж░рждрж┐ржЯрж┐ ржЙрждрзНрждрж░ ржЙржжрж╛рж╣рж░ржгрж╕рж╣ ржмрзНржпрж╛ржЦрзНржпрж╛ ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗ ржпрж╛рждрзЗ PostgreSQL-ржПрж░ ржзрж╛рж░ржгрж╛ рж╕рзНржкрж╖рзНржЯржнрж╛ржмрзЗ ржмрзЛржЭрж╛ ржпрж╛рзЯред</p>

<h2>1я╕ПтГг PostgreSQL ржХрзА?</h2>

<h3>ЁЯЯв рж╕ржВржЬрзНржЮрж╛</h3>
<p><strong>PostgreSQL</strong> рж╣рж▓рзЛ ржПржХржЯрж┐ рж╢ржХрзНрждрж┐рж╢рж╛рж▓рзА, ржлрзНрж░рж┐ ржПржмржВ ржУржкрзЗржи-рж╕рзЛрж░рзНрж╕ ржбрзЗржЯрж╛ржмрзЗрж╕ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ рж╕рж┐рж╕рзНржЯрзЗржоред ржПржЯрж┐ржХрзЗ <em>object-relational DBMS</em> ржмрж▓рж╛ рж╣ржпрж╝ ржХрж╛рж░ржг ржПржЯрж┐ traditional relational database ржПрж░ ржкрж╛рж╢рж╛ржкрж╛рж╢рж┐ advanced feature (ржпрзЗржоржи: JSON, indexing, stored procedures) рж╕рж╛ржкрзЛрж░рзНржЯ ржХрж░рзЗред</p>

<h3>ЁЯзй ржмрзНржпржмрж╣рж╛рж░рзЗрж░ ржХрзНрж╖рзЗрждрзНрж░</h3>
<ul>
  <li>ржмржбрж╝ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи</li>
  <li>рж╕рж░ржХрж╛рж░рж┐ ржбрзЗржЯрж╛ рж╕ржВрж░ржХрзНрж╖ржг</li>
  <li>ржмрзНржпрж╛ржЩрзНржХрж┐ржВ ржУ ржирж┐рж░рж╛ржкрждрзНрждрж╛ рж╕ржВржХрзНрж░рж╛ржирзНржд рж╕рж┐рж╕рзНржЯрзЗржо</li>
</ul>

<h3>ЁЯТб ржЙржжрж╛рж╣рж░ржг</h3>
<p>ржПржХржЯрж┐ ржмржи рж╕ржВрж░ржХрзНрж╖ржг ржЕрзНржпрж╛ржкрзЗ <code>rangers</code>, <code>species</code>, <code>sightings</code> ржбрзЗржЯрж╛ PostgreSQL ржбрзЗржЯрж╛ржмрзЗрж╕рзЗ рж░рж╛ржЦрж╛ ржпрж╛ржпрж╝ред</p>

<h2>2я╕ПтГг PostgreSQL-ржП Schema ржПрж░ ржнрзВржорж┐ржХрж╛</h2>

<h3>ЁЯЯв Schema ржХрзА?</h3>
<p>ржПржХржЯрж┐ <strong>schema</strong> рж╣рж▓рзЛ ржбрзЗржЯрж╛ржмрзЗрж╕рзЗрж░ ржнрж┐рждрж░рзЗ ржЖрж▓рж╛ржжрж╛ logical section ржмрж╛ container, ржпрзЗржЦрж╛ржирзЗ ржЯрзЗржмрж┐рж▓, ржлрж╛ржВрж╢ржи, ржнрж┐ржЙ ржЗрждрзНржпрж╛ржжрж┐ рж░рж╛ржЦрж╛ рж╣рзЯред</p>

<h3>ЁЯУж ржХрзЗржи ржкрзНрж░рзЯрзЛржЬржи?</h3>
<ul>
  <li>ржПржХрж╛ржзрж┐ржХ ржЗржЙржЬрж╛рж░ ржмрж╛ ржЯрж┐ржо ржПржХрж╕рж╛ржерзЗ ржХрж╛ржЬ ржХрж░рждрзЗ ржкрж╛рж░рзЗ</li>
  <li>ржбрзЗржЯрж╛ ржЖрж▓рж╛ржжрж╛ ржХрж░рзЗ рж░рж╛ржЦрждрзЗ рж╕рзБржмрж┐ржзрж╛ рж╣ржпрж╝</li>
  <li>ржирж╛ржорзЗрж░ рж╕ржВржШрж░рзНрж╖ (name conflict) ржПржбрж╝рж╛ржирзЛ ржпрж╛ржпрж╝</li>
</ul>

<h3>ЁЯТб ржЙржжрж╛рж╣рж░ржг</h3>
<pre><code>public.users     -- рж╕рж╛ржзрж╛рж░ржг ржЗржЙржЬрж╛рж░ржжрзЗрж░ ржЯрзЗржмрж┐рж▓
admin.users      -- ржЕрзНржпрж╛ржбржорж┐ржи ржЗржЙржЬрж╛рж░ржжрзЗрж░ ржЯрзЗржмрж┐рж▓
</code></pre>

<h2>3я╕ПтГг Primary Key ржУ Foreign Key ржХрзА?</h2>

<h3>ЁЯФС Primary Key:</h3>
<ul>
  <li>ржПржХржЯрж┐ ржЯрзЗржмрж┐рж▓рзЗрж░ ржПржоржи ржПржХржЯрж┐ ржХрж▓рж╛ржо ржпрж╛ ржкрзНрж░рждрж┐ржЯрж┐ рж░рзЗржХрж░рзНржбржХрзЗ ржЗржЙржирж┐ржХржнрж╛ржмрзЗ ржЪрж┐рж╣рзНржирж┐ржд ржХрж░рзЗ</li>
  <li>null рж╣рждрзЗ ржкрж╛рж░рзЗ ржирж╛</li>
</ul>

<h3>ЁЯФЧ Foreign Key:</h3>
<ul>
  <li>ржПржЯрж┐ ржЕржирзНржп ржЯрзЗржмрж┐рж▓рзЗрж░ Primary Key-ржХрзЗ рж░рзЗржлрж╛рж░рзЗржирзНрж╕ ржХрж░рзЗ</li>
  <li>ржЯрзЗржмрж┐рж▓ржЧрзБрж▓рзЛрж░ ржоржзрзНржпрзЗ рж╕ржорзНржкрж░рзНржХ рждрзИрж░рж┐ ржХрж░рзЗ</li>
</ul>

<h3>ЁЯТб ржЙржжрж╛рж╣рж░ржг</h3>
<pre><code>-- rangers ржЯрзЗржмрж┐рж▓
ranger_id SERIAL PRIMARY KEY

-- sightings ржЯрзЗржмрж┐рж▓
ranger_id INT REFERENCES rangers(ranger_id)
</code></pre>

<p>ржПржЦрж╛ржирзЗ <code>sightings.ranger_id</code> рж╣рж▓рзЛ <code>rangers</code> ржЯрзЗржмрж┐рж▓рзЗрж░ рж╕ржЩрзНржЧрзЗ рж╕ржорзНржкрж░рзНржХрж┐ржд Foreign Keyред</p>

<h2>4я╕ПтГг VARCHAR vs CHAR</h2>

<table>
  <thead>
    <tr>
      <th>ржмрзИрж╢рж┐рж╖рзНржЯрзНржп</th>
      <th><code>VARCHAR(n)</code></th>
      <th><code>CHAR(n)</code></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ржжрзИрж░рзНржШрзНржп</td>
      <td>ржкрж░рж┐ржмрж░рзНрждржиржпрзЛржЧрзНржп</td>
      <td>ржирж┐рж░рзНржжрж┐рж╖рзНржЯ</td>
    </tr>
    <tr>
      <td>рж╕рзНржкрзЗрж╕</td>
      <td>рж╢рзБржзрзБржорж╛рждрзНрж░ ржпрждржЯрзБржХрзБ рж▓рж╛ржЧрзЗ</td>
      <td>ржЕрждрж┐рж░рж┐ржХрзНржд рж╕рзНржкрзЗрж╕ ржжрж┐ржпрж╝рзЗ ржкрзВрж░ржг ржХрж░рж╛ рж╣ржпрж╝</td>
    </tr>
    <tr>
      <td>ржкрж╛рж░ржлрж░ржорзНржпрж╛ржирзНрж╕</td>
      <td>ржнрж╛рж▓рзЛ</td>
      <td>ржПржХржЯрзБ ржзрзАрж░ рж╣рждрзЗ ржкрж╛рж░рзЗ</td>
    </tr>
  </tbody>
</table>

<h3>ЁЯТб ржЙржжрж╛рж╣рж░ржг</h3>
<pre><code>name VARCHAR(100)  -- "Alamin" тЖТ 6 characters
code CHAR(5)       -- "AB" тЖТ "AB   "
</code></pre>

<p>тЬЕ рж╕рж╛ржзрж╛рж░ржгржд <code>VARCHAR</code> ржмрзЗрж╢рж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣ржпрж╝ ржХрж╛рж░ржг ржПржЯрж┐ рж╕рзНржЯрзЛрж░рзЗржЬрзЗ рж╕рж╛рж╢рзНрж░ржпрж╝рзА ржПржмржВ ржлрзНрж▓рзЗржХрзНрж╕рж┐ржмрж▓ред</p>

<h2>5я╕ПтГг WHERE ржХрзНрж▓ржЬрзЗрж░ ржХрж╛ржЬ</h2>

<h3>ЁЯОп ржнрзВржорж┐ржХрж╛</h3>
<p><strong>WHERE clause</strong> рж╣рж▓ ржПржХржЯрж┐ ржлрж┐рж▓рзНржЯрж╛рж░, ржпрж╛ <code>SELECT</code>, <code>UPDATE</code>, <code>DELETE</code> ржЗрждрзНржпрж╛ржжрж┐ statement-ржП рж╢рж░рзНржд ржЕржирзБржпрж╛ржпрж╝рзА ржбрзЗржЯрж╛ ржмрзЗрж░ ржХрж░рждрзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣ржпрж╝ред</p>

<h3>ЁЯТб ржЙржжрж╛рж╣рж░ржг</h3>
<pre><code>SELECT * FROM rangers
WHERE region = 'River Delta';
</code></pre>

<p>ржПржЦрж╛ржирзЗ рж╢рзБржзрзБ рж╕рзЗржЗ рж░рзЗржЮрзНржЬрж╛рж░ржжрзЗрж░ рждржерзНржп ржжрзЗржЦрж╛ржмрзЗ ржпрж╛рж░рж╛ <code>River Delta</code> ржПрж▓рж╛ржХрж╛ржпрж╝ ржХрж╛ржЬ ржХрж░ржЫрзЗред</p>

<h3>ЁЯЫая╕П ржЙржкржХрж╛рж░рж┐рждрж╛</h3>
<ul>
  <li>ржбрзЗржЯрж╛ ржлрж┐рж▓рзНржЯрж╛рж░ ржХрж░рж╛ ржпрж╛ржпрж╝</li>
  <li>ржирж┐рж░рзНржжрж┐рж╖рзНржЯ рждржерзНржп ржмрж┐рж╢рзНрж▓рзЗрж╖ржгрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗ</li>
  <li>performance ржЙржирзНржиржд рж╣ржпрж╝ ржХрж╛рж░ржг ржЕржкрзНрж░рзЯрзЛржЬржирзАрзЯ ржбрзЗржЯрж╛ ржмрж╛ржж ржкржбрж╝рзЗ</li>
</ul>

<hr>

